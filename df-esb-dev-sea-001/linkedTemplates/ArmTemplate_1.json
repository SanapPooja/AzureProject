{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "df-esb-dev-sea-001"
		},
		"Democonnection_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Democonnection'"
		},
		"FileConnection_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'FileConnection'"
		},
		"IgnitionQA_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'IgnitionQA'"
		},
		"LookupTable_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'LookupTable'"
		},
		"NSQADB2Connection_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'NSQADB2Connection'"
		},
		"Oracle1_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Oracle1'"
		},
		"Oracle2_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Oracle2'"
		},
		"SCM_IDB_Connect_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SCM_IDB_Connect'"
		},
		"SapConnection_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'SapConnection'"
		},
		"SapOdp_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'SapOdp'"
		},
		"SapRFCconnection_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'SapRFCconnection'"
		},
		"SftpConnection_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'SftpConnection'"
		},
		"SqlServer1_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SqlServer1'"
		},
		"SqlServer2_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SqlServer2'"
		},
		"FileConnection_properties_typeProperties_host": {
			"type": "string",
			"defaultValue": "\\\\nslfp4\\bend"
		},
		"FileConnection_properties_typeProperties_userId": {
			"type": "string",
			"defaultValue": "NATSTEELCORP\\NSESBAPPSADM"
		},
		"IgnitionACTtoSAP_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://sb-nsh-esb-dev.servicebus.windows.net/actrecords/messages"
		},
		"IgnitionACTtoSAP_properties_typeProperties_aadResourceId": {
			"type": "string",
			"defaultValue": "https://servicebus.azure.net/"
		},
		"IgnitionActQueue_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://sb-nsh-esb-dev.servicebus.windows.net/actrecords/messages/head"
		},
		"IgnitionActQueue_properties_typeProperties_aadResourceId": {
			"type": "string",
			"defaultValue": "https://servicebus.azure.net/"
		},
		"RestServiceGR_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://sb-nsh-esb-dev.servicebus.windows.net/grrecords/messages"
		},
		"RestServiceGR_properties_typeProperties_aadResourceId": {
			"type": "string",
			"defaultValue": "https://servicebus.azure.net/"
		},
		"RestServiceGRQueue_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://sb-nsh-esb-dev.servicebus.windows.net/grrecords/messages/head"
		},
		"RestServiceGRQueue_properties_typeProperties_aadResourceId": {
			"type": "string",
			"defaultValue": "https://servicebus.azure.net/"
		},
		"SapConnection_properties_typeProperties_clientId": {
			"type": "string",
			"defaultValue": "110"
		},
		"SapConnection_properties_typeProperties_userName": {
			"type": "string",
			"defaultValue": "SCM_AUTOPO"
		},
		"SapConnection_properties_typeProperties_server": {
			"type": "string",
			"defaultValue": "172.25.101.6"
		},
		"SapConnection_properties_typeProperties_systemNumber": {
			"type": "string",
			"defaultValue": "00"
		},
		"SapOdp_properties_typeProperties_clientId": {
			"type": "string",
			"defaultValue": "600"
		},
		"SapOdp_properties_typeProperties_userName": {
			"type": "string",
			"defaultValue": "test1"
		},
		"SapOdp_properties_typeProperties_server": {
			"type": "string",
			"defaultValue": "172.25.101.5"
		},
		"SapOdp_properties_typeProperties_systemNumber": {
			"type": "string",
			"defaultValue": "01"
		},
		"SapRFCconnection_properties_typeProperties_clientId": {
			"type": "string",
			"defaultValue": "600"
		},
		"SapRFCconnection_properties_typeProperties_userName": {
			"type": "string",
			"defaultValue": "test1"
		},
		"SapRFCconnection_properties_typeProperties_server": {
			"type": "string",
			"defaultValue": "172.25.101.5"
		},
		"SapRFCconnection_properties_typeProperties_systemNumber": {
			"type": "string",
			"defaultValue": "01"
		},
		"SftpConnection_properties_typeProperties_host": {
			"type": "string",
			"defaultValue": "14.141.16.136"
		},
		"SftpConnection_properties_typeProperties_hostKeyFingerprint": {
			"type": "string",
			"defaultValue": "ssh-rsa 1024 0d:82:a3:ef:c6:cf:94:a0:9b:d9:9d:99:e9:4f:9c:86"
		},
		"SftpConnection_properties_typeProperties_userName": {
			"type": "string",
			"defaultValue": "natsftpPRD"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/RestResource2')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "RestService2",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "RestResource",
				"typeProperties": {},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ServiceBus')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "RestService1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "RestResource",
				"typeProperties": {},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Democonnection')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('Democonnection_connectionString')]"
				},
				"connectVia": {
					"referenceName": "NSHQA",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FileConnection')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "FileServer",
				"typeProperties": {
					"host": "[parameters('FileConnection_properties_typeProperties_host')]",
					"userId": "[parameters('FileConnection_properties_typeProperties_userId')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('FileConnection_password')]"
					}
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/IgnitionACTtoSAP')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('IgnitionACTtoSAP_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "ManagedServiceIdentity",
					"aadResourceId": "[parameters('IgnitionACTtoSAP_properties_typeProperties_aadResourceId')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/IgnitionActQueue')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('IgnitionActQueue_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "ManagedServiceIdentity",
					"aadResourceId": "[parameters('IgnitionActQueue_properties_typeProperties_aadResourceId')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/IgnitionQA')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('IgnitionQA_connectionString')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/LookupTable')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('LookupTable_connectionString')]"
				},
				"connectVia": {
					"referenceName": "NSHQA",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/NSQADB2Connection')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('NSQADB2Connection_connectionString')]"
				},
				"connectVia": {
					"referenceName": "NSHQA",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Oracle1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Oracle",
				"typeProperties": {
					"connectionString": "[parameters('Oracle1_connectionString')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Oracle2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Oracle",
				"typeProperties": {
					"connectionString": "[parameters('Oracle2_connectionString')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/RestServiceGR')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('RestServiceGR_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "ManagedServiceIdentity",
					"aadResourceId": "[parameters('RestServiceGR_properties_typeProperties_aadResourceId')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/RestServiceGRQueue')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('RestServiceGRQueue_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "ManagedServiceIdentity",
					"aadResourceId": "[parameters('RestServiceGRQueue_properties_typeProperties_aadResourceId')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SCM_IDB_Connect')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Oracle",
				"typeProperties": {
					"connectionString": "[parameters('SCM_IDB_Connect_connectionString')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SapConnection')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SapTable",
				"typeProperties": {
					"clientId": "[parameters('SapConnection_properties_typeProperties_clientId')]",
					"language": "EN",
					"sncMode": false,
					"userName": "[parameters('SapConnection_properties_typeProperties_userName')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('SapConnection_password')]"
					},
					"server": "[parameters('SapConnection_properties_typeProperties_server')]",
					"systemNumber": "[parameters('SapConnection_properties_typeProperties_systemNumber')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SapOdp')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SapOdp",
				"typeProperties": {
					"clientId": "[parameters('SapOdp_properties_typeProperties_clientId')]",
					"sncMode": false,
					"userName": "[parameters('SapOdp_properties_typeProperties_userName')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('SapOdp_password')]"
					},
					"server": "[parameters('SapOdp_properties_typeProperties_server')]",
					"systemNumber": "[parameters('SapOdp_properties_typeProperties_systemNumber')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SapRFCconnection')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SapTable",
				"typeProperties": {
					"clientId": "[parameters('SapRFCconnection_properties_typeProperties_clientId')]",
					"sncMode": false,
					"userName": "[parameters('SapRFCconnection_properties_typeProperties_userName')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('SapRFCconnection_password')]"
					},
					"server": "[parameters('SapRFCconnection_properties_typeProperties_server')]",
					"systemNumber": "[parameters('SapRFCconnection_properties_typeProperties_systemNumber')]"
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SftpConnection')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Sftp",
				"typeProperties": {
					"host": "[parameters('SftpConnection_properties_typeProperties_host')]",
					"port": "222",
					"skipHostKeyValidation": false,
					"hostKeyFingerprint": "[parameters('SftpConnection_properties_typeProperties_hostKeyFingerprint')]",
					"authenticationType": "Basic",
					"userName": "[parameters('SftpConnection_properties_typeProperties_userName')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('SftpConnection_password')]"
					}
				},
				"connectVia": {
					"referenceName": "MESQARuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SqlServer1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SqlServer1_connectionString')]"
				},
				"connectVia": {
					"referenceName": "NSHQA",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SqlServer2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SqlServer2_connectionString')]"
				},
				"connectVia": {
					"referenceName": "NSHQA",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		}
	]
}